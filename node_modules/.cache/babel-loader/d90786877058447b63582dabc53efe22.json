{"ast":null,"code":"var _jsxFileName = \"E:\\\\Code\\\\BTLW\\\\student_management\\\\client\\\\src\\\\HomePage\\\\Component\\\\Noti\\\\NotiList.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/jsx-pascal-case */\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport NotiForm from \"./NotiForm\";\nimport Noti from \"./Noti\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Noti_Form = styled.div`\n  width: 50%;\n  margin: auto;\n  background-color: rgb(190, 185, 185);\n  min-height: 50vh;\n  padding: 30px 0 30px 0;\n  margin-top: 5vh;\n  border-radius: 20px;\n  margin-bottom: 10vh;\n  // overflow: hidden;\n`;\n_c = Noti_Form;\nconst Noti_title = styled.h1`\n  width: 80%;\n  margin: auto;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  text-shadow: 2px 7px 5px rgba(0, 0, 0, 0.3);\n  font-size: 5rem;\n  text-align: center;\n  font-weight: bold;\n  color: #0b5592;\n`;\n_c2 = Noti_title;\nfunction TodoList(props) {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [lop, setLop] = useState([]);\n  useEffect(() => {\n    async function fetchNotiList() {\n      const lop = sessionStorage.getItem(\"lop\").split(\", \");\n      setLop(lop);\n      const item = sessionStorage.getItem(\"item\") === null ? sessionStorage.getItem(\"lop\") : sessionStorage.getItem(\"item\");\n      console.log(item);\n      await axios.get(`http://localhost:5000/post/${item}`).then(response => {\n        console.log(response.data);\n        setTodos(response.data.getpost);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    fetchNotiList();\n  }, []);\n  const ChooseClass = async item => {\n    sessionStorage.setItem(\"item\", item);\n    await axios.get(`http://localhost:5000/post/${item}`).then(response => {\n      console.log(response.data);\n      setTodos(response.data.getpost);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const addTodo = todo => {\n    if (!todo.content || /^\\s*$/.test(todo.content)) {\n      return;\n    }\n    const newTodos = [todo, ...todos];\n    setTodos(newTodos);\n  };\n  const removeTodo = async id => {\n    await axios.delete(`http://localhost:5000/post/delete/${id}`);\n    const removedArr = [...todos].filter(todo => todo.id !== id);\n    setTodos(removedArr);\n  };\n  const role = props.role;\n  if (role !== \"student\") {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn dropdown-toggle\",\n          id: \"dropdownMsv\",\n          \"data-toggle\": \"dropdown\",\n          \"aria-haspopup\": \"true\",\n          \"aria-expanded\": \"true\",\n          children: [\"Ch\\u1ECDn c\\u01A1 s\\u1EDF \\xA0 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fa fa-caret-square-o-down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dropdown-menu\",\n          \"aria-labelledby\": \"dropdownMenu1\",\n          children: lop.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => ChooseClass(item),\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              role: \"button\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          padding: \"5px\"\n        },\n        children: sessionStorage.getItem(\"item\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Noti_Form, {\n        children: [/*#__PURE__*/_jsxDEV(Noti_title, {\n          children: \"TH\\xD4NG B\\xC1O\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NotiForm, {\n          todos: todos,\n          onSubmit: addTodo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Noti, {\n          role: role,\n          todos: todos,\n          removeTodo: removeTodo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Noti_Form, {\n      children: [/*#__PURE__*/_jsxDEV(Noti_title, {\n        children: \"TH\\xD4NG B\\xC1O\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Noti, {\n        role: role,\n        todos: todos,\n        removeTodo: removeTodo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(TodoList, \"5R5X7PuArPEQd0cvDaeokHzqKe8=\");\n_c3 = TodoList;\nexport default TodoList;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Noti_Form\");\n$RefreshReg$(_c2, \"Noti_title\");\n$RefreshReg$(_c3, \"TodoList\");","map":{"version":3,"names":["React","useState","useEffect","useReducer","NotiForm","Noti","styled","axios","Noti_Form","div","Noti_title","h1","TodoList","props","todos","setTodos","lop","setLop","fetchNotiList","sessionStorage","getItem","split","item","console","log","get","then","response","data","getpost","catch","err","ChooseClass","setItem","addTodo","todo","content","test","newTodos","removeTodo","id","delete","removedArr","filter","role","map","index","padding"],"sources":["E:/Code/BTLW/student_management/client/src/HomePage/Component/Noti/NotiList.js"],"sourcesContent":["/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useReducer } from \"react\";\r\nimport NotiForm from \"./NotiForm\";\r\nimport Noti from \"./Noti\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nconst Noti_Form = styled.div`\r\n  width: 50%;\r\n  margin: auto;\r\n  background-color: rgb(190, 185, 185);\r\n  min-height: 50vh;\r\n  padding: 30px 0 30px 0;\r\n  margin-top: 5vh;\r\n  border-radius: 20px;\r\n  margin-bottom: 10vh;\r\n  // overflow: hidden;\r\n`;\r\n\r\nconst Noti_title = styled.h1`\r\n  width: 80%;\r\n  margin: auto;\r\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n  text-shadow: 2px 7px 5px rgba(0, 0, 0, 0.3);\r\n  font-size: 5rem;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  color: #0b5592;\r\n`;\r\n\r\nfunction TodoList(props) {\r\n  const [todos, setTodos] = useState([]);\r\n  const [lop, setLop] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchNotiList() {\r\n      const lop = sessionStorage.getItem(\"lop\").split(\", \");\r\n      setLop(lop);\r\n\r\n      const item =\r\n        sessionStorage.getItem(\"item\") === null\r\n          ? sessionStorage.getItem(\"lop\")\r\n          : sessionStorage.getItem(\"item\");\r\n      console.log(item);\r\n      await axios\r\n        .get(`http://localhost:5000/post/${item}`)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          setTodos(response.data.getpost);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    fetchNotiList();\r\n  }, []);\r\n\r\n  const ChooseClass = async (item) => {\r\n    sessionStorage.setItem(\"item\", item);\r\n    await axios\r\n      .get(`http://localhost:5000/post/${item}`)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        setTodos(response.data.getpost);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const addTodo = (todo) => {\r\n    if (!todo.content || /^\\s*$/.test(todo.content)) {\r\n      return;\r\n    }\r\n    const newTodos = [todo, ...todos];\r\n\r\n    setTodos(newTodos);\r\n  };\r\n\r\n  const removeTodo = async (id) => {\r\n    await axios.delete(`http://localhost:5000/post/delete/${id}`);\r\n    const removedArr = [...todos].filter((todo) => todo.id !== id);\r\n    setTodos(removedArr);\r\n  };\r\n  const role = props.role;\r\n  if (role !== \"student\") {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn dropdown-toggle\"\r\n            id=\"dropdownMsv\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"true\"\r\n          >\r\n            Chọn cơ sở &nbsp; <span className=\"fa fa-caret-square-o-down\"></span>\r\n          </button>\r\n          <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\">\r\n            {lop.map((item, index) => (\r\n              <li key={index} onClick={() => ChooseClass(item)}>\r\n                <a role=\"button\">{item}</a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <label\r\n          style={{\r\n            padding: \"5px\",\r\n          }}\r\n        >\r\n          {sessionStorage.getItem(\"item\")}\r\n        </label>\r\n        <Noti_Form>\r\n          <Noti_title>THÔNG BÁO</Noti_title>\r\n          <NotiForm todos={todos} onSubmit={addTodo} />\r\n          <Noti role={role} todos={todos} removeTodo={removeTodo} />\r\n        </Noti_Form>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <Noti_Form>\r\n        <Noti_title>THÔNG BÁO</Noti_title>\r\n        <Noti role={role} todos={todos} removeTodo={removeTodo} />\r\n      </Noti_Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}